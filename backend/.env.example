# ============================================================================
# School Management Platform - Environment Variables
# ============================================================================

# ============================================================================
# Application Settings
# ============================================================================
APP_NAME=School Management Platform
APP_VERSION=1.0.0
ENVIRONMENT=development
DEBUG=true
API_V1_PREFIX=/api/v1

# ============================================================================
# Database Settings (PostgreSQL)
# ============================================================================
# Use asyncpg driver for async support: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://school_user:school_pass@localhost:5432/school_management_db
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30
DATABASE_ECHO=false

# ============================================================================
# JWT Authentication Settings
# ============================================================================
# Generate a strong secret key: python -c "import secrets; print(secrets.token_urlsafe(64))"
JWT_SECRET_KEY=your-super-secret-jwt-key-min-32-chars-use-strong-random-string-here
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=1440
JWT_REFRESH_TOKEN_EXPIRE_DAYS=30
JWT_REFRESH_TOKEN_EXPIRE_HOURS=24

# ============================================================================
# Password & Token Settings
# ============================================================================
BCRYPT_COST_FACTOR=12
ACCOUNT_SETUP_TOKEN_EXPIRE_DAYS=7
PASSWORD_RESET_TOKEN_EXPIRE_HOURS=1

# ============================================================================
# Rate Limiting Settings
# ============================================================================
RATE_LIMIT_LOGIN_ATTEMPTS=5
RATE_LIMIT_LOGIN_WINDOW_MINUTES=15
RATE_LIMIT_PASSWORD_RESET_ATTEMPTS=3
RATE_LIMIT_PASSWORD_RESET_WINDOW_HOURS=1

# ============================================================================
# AWS S3 Settings (File Storage)
# ============================================================================
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-east-1
AWS_S3_BUCKET_NAME=school-management-files
# AWS_S3_ENDPOINT_URL=http://localhost:4566  # Uncomment for LocalStack

# File Upload Settings
MAX_FILE_SIZE_MB=10

# ============================================================================
# SMS Settings (Africa's Talking)
# ============================================================================
SMS_PROVIDER=africas_talking
AFRICAS_TALKING_USERNAME=your-username
AFRICAS_TALKING_API_KEY=your-api-key
AFRICAS_TALKING_SENDER_ID=SchoolMgmt
SMS_ENABLED=false

# ============================================================================
# Email Settings (SendGrid)
# ============================================================================
EMAIL_PROVIDER=sendgrid
SENDGRID_API_KEY=your-sendgrid-api-key
EMAIL_FROM_ADDRESS=noreply@schoolmanagement.com
EMAIL_FROM_NAME=School Management Platform
EMAIL_ENABLED=false

# ============================================================================
# Redis Settings (Celery & Caching)
# ============================================================================
REDIS_URL=redis://localhost:6379/0

# ============================================================================
# Celery Settings (Background Tasks)
# ============================================================================
# If not set, defaults to REDIS_URL
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# ============================================================================
# CORS Settings
# ============================================================================
# Comma-separated list or JSON array format
CORS_ORIGINS=["http://localhost:3000","http://localhost:5173"]
CORS_ALLOW_CREDENTIALS=true

# ============================================================================
# Logging Settings
# ============================================================================
LOG_LEVEL=INFO

# ============================================================================
# Testing Settings
# ============================================================================
TESTING=false
# TEST_DATABASE_URL=postgresql+asyncpg://test_user:test_pass@localhost:5432/school_management_test